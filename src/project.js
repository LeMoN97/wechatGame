require=function c(s,a,r){function p(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=a[t]={exports:{}};s[t][0].call(o.exports,function(e){return p(s[t][1][e]||e)},o,o.exports,c,s,a,r)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<r.length;e++)p(r[e]);return p}({GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"c62d9bUjr9M96q257RdVXOg","GameManager"),cc.Class({extends:cc.Component,properties:{gameOverMenu:cc.Node,scoreText:cc.Label,scoreMain:cc.Label,gameBgAudio:{default:null,url:cc.AudioClip},scoreAudio:{default:null,url:cc.AudioClip},dieAudio:{default:null,url:cc.AudioClip},gameOverAudio:{default:null,url:cc.AudioClip}},onLoad:function(){Global.gameManager=this,cc.director.getCollisionManager().enabled=!0,this.gameOverMenu.active=!1,this.score=0,this.scoreText.string=this.score,this.scoreMain.string=this.score},start:function(){Global.scroller.startMove(),Global.pipeManager.startSpawn(),Global.sheep.startRun(),cc.audioEngine.play(this.gameBgAudio)},gainScore:function(){this.score++,this.scoreText.string=this.score,this.scoreMain.string=this.score,cc.audioEngine.play(this.scoreAudio)},gameOver:function(){this.gameOverMenu.active=!0,Global.scroller.stopMove(),Global.pipeManager.stopSpawn(),Global.sheep.stopRun(),cc.audioEngine.stopAll(),cc.audioEngine.play(this.dieAudio),cc.audioEngine.play(this.gameOverAudio)}}),cc._RF.pop()},{}],GameOverMenu:[function(e,t,n){"use strict";cc._RF.push(t,"07207tZLYpMBrQ2zKLg+obU","GameOverMenu");cc.Class({extends:cc.Component,properties:{score:cc.Label},restart:function(){cc.director.loadScene("Game")}});cc._RF.pop()},{}],GameStart:[function(e,t,n){"use strict";cc._RF.push(t,"e6343MMIFtBea5RkO1fHCeO","GameStart");cc.Class({extends:cc.Component,properties:{},restart:function(){cc.director.loadScene("Game")}});cc._RF.pop()},{}],Globals:[function(e,t,n){"use strict";cc._RF.push(t,"cb0b0IGUg1D2aSh5pfovjWd","Globals"),window.Global={gameManager:null,scroller:null,pipeManager:null,sheep:null},cc._RF.pop()},{}],PipeGroupManager:[function(e,t,n){"use strict";cc._RF.push(t,"a727akjUl5ER49A6gagAy+g","PipeGroupManager");var i=e("PipeGroup");cc.Class({extends:cc.Component,properties:{pipePrefab:cc.Prefab,pipeLayer:cc.Node,initPipeX:0,spawnInterval:0},onLoad:function(){Global.pipeManager=this},startSpawn:function(){this.move=!0,this.spawnPipe(),this.schedule(this.spawnPipe,this.spawnInterval)},stopSpawn:function(){this.move=!1,this.unschedule(this.spawnPipe)},spawnPipe:function(){var e=null;e=cc.pool.hasObject(i)?cc.pool.getFromPool(i):cc.instantiate(this.pipePrefab).getComponent(i),this.pipeLayer.addChild(e.node),e.node.active=!0,e.node.x=this.initPipeX},destroyPipe:function(e){e.node.removeFromParent(),e.node.active=!1,cc.pool.putInPool(e)}}),cc._RF.pop()},{PipeGroup:"PipeGroup"}],PipeGroup:[function(e,t,n){"use strict";cc._RF.push(t,"7a3ff2ogAhKzJTlIqsOFdJU","PipeGroup"),cc.Class({extends:cc.Component,properties:{speed:0,botYRange:cc.p(0,0),spacingRange:cc.p(0,0),topPipe:cc.Node,botPipe:cc.Node},onEnable:function(){var e=this.botYRange.x+Math.random()*(this.botYRange.y-this.botYRange.x),t=e+(this.spacingRange.x+Math.random()*(this.spacingRange.y-this.spacingRange.x));this.topPipe.y=t,this.botPipe.y=e},update:function(e){Global.pipeManager.move&&(this.node.x+=this.speed*e,this.node.getBoundingBoxToWorld().xMax<0&&Global.pipeManager.destroyPipe(this))}}),cc._RF.pop()},{}],Scroller:[function(e,t,n){"use strict";cc._RF.push(t,"e55b2AkFWBHjr47ZdN9gOT4","Scroller"),cc.Class({extends:cc.Component,properties:{speed:0,resetX:0},onLoad:function(){Global.scroller=this},startMove:function(){this.move=!0},stopMove:function(){this.move=!1},update:function(e){if(this.move){var t=this.node.x;(t+=this.speed*e)<=this.resetX&&(t-=this.resetX),this.node.x=t}}}),cc._RF.pop()},{}],sheep_run:[function(e,t,n){"use strict";cc._RF.push(t,"56970y6i0NN7IpCHCNPprqY","sheep_run"),cc.Class({extends:cc.Component,properties:{},start:function(){this.anim=this.getComponent(cc.Animation),this.anim.play("Run")}}),cc._RF.pop()},{}],sheep:[function(e,t,n){"use strict";cc._RF.push(t,"41f0a8JH7JJAbOY0A+WBmwY","sheep"),cc.Class({extends:cc.Component,properties:{maxY:0,groundY:0,gravity:0,initJumpSpeed:0,jumpAudio:{default:null,url:cc.AudioClip}},onLoad:function(){(Global.sheep=this).currentSpeed=0,this.anim=this.getComponent(cc.Animation)},changeState:function(e){this.state=e,this.anim.stop(),this.anim.play(e)},jump:function(){this.changeState("Jump"),this.currentSpeed=this.initJumpSpeed,cc.audioEngine.play(this.jumpAudio)},startRun:function(){this.changeState("Run"),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(e,t){return this.jump(),!0}.bind(this)},this.node)},stopRun:function(){this.changeState("Dead"),cc.eventManager.pauseTarget(this.node)},onCollisionEnter:function(e){var t=cc.game.groupList[e.node.groupIndex];"pipe"===t?Global.gameManager.gameOver():"score"===t&&Global.gameManager.gainScore()},update:function(e){switch(this.state){case"Jump":this.currentSpeed<0&&this.changeState("Drop");break;case"Drop":this.node.y<this.groundY&&(this.node.y=this.groundY,this.changeState("Run"));break;case"Dead":return}this.node.y>this.maxY&&(this.node.y=this.maxY,this.changeState("Drop")),("Jump"===this.state||this.node.y>this.groundY)&&(this.currentSpeed-=e*this.gravity,this.node.y+=e*this.currentSpeed)}}),cc._RF.pop()},{}]},{},["GameManager","GameOverMenu","GameStart","Globals","PipeGroup","PipeGroupManager","Scroller","sheep","sheep_run"]);